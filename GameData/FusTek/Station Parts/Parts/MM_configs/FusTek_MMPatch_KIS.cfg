// Kerbal Inventory System (KIS) patch for FusTek Station Parts
// Author: Robin "sumghai" Chang
// Revision: 1.0
//
// For use with KIS v1.1.5

// This adds KIS support to the station modules in the following manner:
// - Selected modules will now hold varying amounts of KIS inventory slots
// - The Node Covers and the 1.25m diameter IACBM docking port can be retrofitted into the side nodes of the Karmony Node and compactNode Mk III Modules, via Kerbals on EVA
// - [Future] Removable FusTek FLEXrack containers for the Karmony Warehouse Module and various other FLEXrack carriers
// - [Future] Assembly of station truss segments, via Kerbals on EVA

// ----INVENTORY SLOT ALLOCATION----
//
// Add 24 inventory slots to the Logistics Modules
@PART[FusTekKarmonyStorModule*]:NEEDS[KIS]:Final
{
  MODULE
	{
		name = ModuleKISInventory
		maxVolume = 12000       // Scaled down from 20000 for the KIS IMC-250
		externalAccess = false  // Kerbals on EVA aren't supposed to be able to grab stuff directly from Logistics Modules
		internalAccess = true   // On the other hand, they are allowed to do so when inside the station / outpost
		slotsX = 6
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
}

// Add 16 inventory slots to the Node Modules
@PART[FusTekKarmonyNodeMkIII*]:NEEDS[KIS]:Final
{
  MODULE
	{
		name = ModuleKISInventory
		maxVolume = 8000
		externalAccess = false  // Kerbals on EVA aren't supposed to be able to grab stuff directly from Node Modules
		internalAccess = true   // On the other hand, they are allowed to do so when inside the station / outpost
		slotsX = 4
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
}

// Add 4 inventory slots to the Airlock Modules
@PART[FusTekKuest*]:NEEDS[KIS]:Final
{
  MODULE
	{
		name = ModuleKISInventory
		maxVolume = 2000
		externalAccess = false  // The EVA equipment locker is located behind the lockout chamber, so Kerbals are supposed to have everything they need before they set out on EVA
		internalAccess = true   // On the other hand, they are allowed transfer stuff to/from other modules inside the station / outpost
		slotsX = 1
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
}

// Add 16 inventory slots to the Resupply Modules
@PART[FusTekResupplyModule*]:NEEDS[KIS]:Final
{
  MODULE
	{
		name = ModuleKISInventory
		maxVolume = 8000
		externalAccess = false  // Kerbals on EVA aren't supposed to be able to grab stuff directly from Resupply Modules
		internalAccess = true   // On the other hand, they are allowed to do so when inside the station / outpost
		slotsX = 4
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
}

// ----NODE MODULE RETROFIT----
//
// Allow retrofitting of Node Covers and 1.25m diameter IACBM docking ports into the four side nodes of the Karmony Node and compactNode Mk III Modules, via Kerbals on EVA

//...TODO

// ----FLEXRACKS----
//
// Details to come

// ----TRUSSES----
//
// Details to come
